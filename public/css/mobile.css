/* --- STYLES MOBILES --- */
@media (max-width: 768px) {
    body {
        padding: 10px;
        padding-top: 70px;
        padding-left: 10px; /* Annule le padding desktop */
    }
    main {
        max-width: 1200px; /* Rétablir max-width si annulé sur desktop */
        margin: 0 auto; /* Rétablir le centrage */
    }
    .card { padding: 15px; }

    /* --- Header Mobile Refondu --- */
    header {
        padding-left: 0; /* Annule le décalage desktop */
        display: flex;
        flex-wrap: nowrap; /* Forcer une seule ligne */
        justify-content: space-between; /* Espacer les éléments */
        align-items: center;
        gap: 10px;
    }
    header h1 {
        font-size: 1.2em;
        gap: 5px;
        order: 2; /* Titre au milieu */
        flex-basis: auto;
        flex-grow: 0;
        flex-shrink: 1;
        text-align: center;
        margin: 0;
        white-space: nowrap;
    }
    header .discord-section {
        order: 1; /* Discord à gauche */
        flex-grow: 0;
        justify-content: flex-start;
        display: flex;
        align-items: center;
    }
    header .guides-section {
        order: 3; /* Guides à droite */
        flex-grow: 0;
        justify-content: flex-end;
    }
    header .top-bar-section {
        gap: 5px;
    }
    header .top-bar-section svg {
        width: 24px;
        height: 24px;
    }
    header .discord-info span,
    header .guides-section span {
        display: none; /* Cacher les textes longs */
    }
    header .discord-stats {
        font-size: 0.85em;
        opacity: 1;
        gap: 4px;
        font-weight: bold;
        color: var(--text-color);
        display: flex;
        align-items: center;
        white-space: nowrap;
    }
    header #discord-online-count .status-dot {
        width: 7px;
        height: 7px;
        margin-right: 3px;
    }

    /* Visibilité des éléments de titre/logo */
    .logo-desktop { display: none; }
    .title-full-text { display: none; }
    .title-mobile-short {
        display: block;
        font-size: 1.15em;
        white-space: nowrap;
    }
    .logo { width: 35px; height: 35px; }

    /* Boutons fixes */
    #admin-settings-btn {
        width: 40px;
        height: 40px;
        top: 10px;
        right: 10px;
    }
    #admin-settings-btn svg { width: 20px; height: 20px; }

    /* --- Navigation Mobile --- */
    #desktop-sidebar { display: none; }
    #home-nav-btn {
        display: flex;
        top: 10px;
        left: 10px;
        width: 40px;
        height: 40px;
    }
    #home-nav-btn svg { width: 20px; height: 20px; }

    /* --- Top Bar (Timers) --- */
    body.section-active .top-bar { display: none; }
    .top-bar {
        flex-wrap: wrap;
        padding: 10px;
        gap: 15px;
    }
    .top-bar .top-bar-section { gap: 10px; }
    .top-bar .top-bar-section svg { width: 28px; height: 28px; }
    .timers-list {
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        width: 100%;
        order: 3;
    }
    .timer-entry {
        flex-direction: row;
        gap: 8px;
        background-color: #f9f6f1;
        padding: 8px 12px;
        border-radius: 8px;
        width: 100%;
        box-sizing: border-box;
    }
    .timer-label {
        font-size: 0.8em;
        text-align: left;
        flex-grow: 1;
        opacity: 0.8;
    }
    .timer-value { font-size: 0.85em; }
    .timers-section { flex-basis: 100%; width: 100%; }

    /* --- Formulaire d'ajout --- */
    #player-form { grid-template-columns: 1fr; }
    #player-image-container { grid-row: auto; }
    .form-step-1, #form-details { grid-column: 1 / -1; }

    /* --- Filtres Généraux --- */
    #open-filters-btn {
        display: block;
        width: 100%;
        margin-bottom: 15px;
    }
    #teams-filters { display: none; }
    #team-guild-filter-mobile {
        display: block;
        width: 100%;
        margin-bottom: 15px;
    }
    .filters-modal-class-filter { display: block; }

    /* --- Players Leaderboard Table --- */
    #leaderboard-table thead { display: none; }
    #leaderboard-table tbody tr {
        display: flex;
        align-items: center;
        width: 100%;
        padding: 10px 0;
        cursor: pointer;
    }
    #leaderboard-table tbody tr:hover { background-color: #f9f6f1; }
    #leaderboard-table td {
        display: none;
        border: none;
        padding: 5px;
    }
    /* Rank */
    #leaderboard-table td:nth-child(1) {
        display: block;
        width: 40px;
        text-align: center;
        flex-shrink: 0;
    }
    /* Player Name */
    #leaderboard-table td:nth-child(2) {
        display: block;
        flex-grow: 1;
        width: auto;
    }
    /* CP (Centré) */
    #leaderboard-table td:nth-child(3) {
        display: block;
        width: 70px;
        font-size: 0.9em;
        text-align: center;
        font-weight: bold;
        color: var(--primary-color);
        flex-shrink: 0;
        padding: 5px 0;
    }
    .player-name-cell .class-tag { font-size: 1em; }

    /* --- Teams Leaderboard Table --- */
    #teams-leaderboard-table thead { display: none; }
    #teams-leaderboard-table tbody tr.team-data-row {
        display: flex;
        align-items: center;
        width: 100%;
        padding: 10px 0;
        cursor: pointer;
    }
    #teams-leaderboard-table tbody tr.team-data-row:hover { background-color: #f9f6f1; }
    #teams-leaderboard-table td { display: none; border: none; padding: 5px; }
    /* Rank */
    #teams-leaderboard-table td:nth-child(1) {
        display: block;
        width: 40px;
        text-align: center;
        flex-shrink: 0;
    }
    /* Team Name */
    #teams-leaderboard-table td:nth-child(2) {
        display: block;
        flex-grow: 1;
        width: auto;
        font-size: 0.9em;
        line-height: 1.3;
    }
    #teams-leaderboard-table td:nth-child(2) .guild-name {
        font-size: 0.8em;
        opacity: 0.7;
    }
    /* Total CP */
    #teams-leaderboard-table td:nth-child(3) {
        display: block;
        width: 60px;
        font-size: 0.9em;
        text-align: right;
        font-weight: bold;
        color: var(--primary-color);
        flex-shrink: 0;
        padding: 5px 0;
    }
    /* Members count */
    #teams-leaderboard-table td:nth-child(4) {
        display: block;
        width: 50px;
        font-size: 0.9em;
        text-align: center;
        flex-shrink: 0;
    }

    /* --- Guilds Leaderboard Table --- */
    .guild-leaderboard-table thead { display: none; }
    .guild-leaderboard-table tbody tr {
        display: flex;
        align-items: center;
        width: 100%;
        padding: 10px 0;
        cursor: pointer;
    }
    .guild-leaderboard-table tbody tr:hover { background-color: #f9f6f1; }
    .guild-leaderboard-table td { display: none; border: none; padding: 5px; }
    /* Rank */
    .guild-leaderboard-table td:nth-child(1) {
        display: block;
        width: 40px;
        text-align: center;
        flex-shrink: 0;
    }
    /* Guild Name */
    .guild-leaderboard-table td:nth-child(2) {
        display: block;
        flex-grow: 1;
        width: auto;
    }
    /* Total CP */
    .guild-leaderboard-table td:nth-child(3) {
        display: block;
        width: 70px;
        font-size: 0.9em;
        text-align: center;
        font-weight: bold;
        color: var(--primary-color);
        flex-shrink: 0;
        padding: 5px 0;
    }

    /* --- Perilous Trials --- */
    #perilous-trials-section .desktop-pt-controls { display: none; }
    #perilous-trials-section .mobile-pt-controls {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
        flex-wrap: wrap;
        align-items: center;
    }
    #perilous-trials-section .mobile-pt-controls #open-pt-filters-btn {
        flex: 1 1 auto;
        margin-bottom: 0;
    }
    #perilous-trials-section .mobile-pt-controls .pt-mobile-actions-right {
        display: flex;
        gap: 10px;
        flex-shrink: 0;
    }

    /* PT Global Table */
    #pt-global-leaderboard-table thead { display: none; }
    #pt-global-leaderboard-table tbody tr {
        display: flex;
        align-items: center;
        width: 100%;
        padding: 10px 0;
        cursor: pointer;
    }
    #pt-global-leaderboard-table tbody tr:hover { background-color: #f9f6f1; }
    #pt-global-leaderboard-table td { display: none; border: none; padding: 5px; }
    /* Rank */
    #pt-global-leaderboard-table td:nth-child(1) {
        display: block;
        width: 40px;
        text-align: center;
        flex-shrink: 0;
    }
    /* Player Name */
    #pt-global-leaderboard-table td:nth-child(2) {
        display: block;
        flex-grow: 1;
        width: auto;
    }
    /* Points (Centré) */
    #pt-global-leaderboard-table td:nth-child(4) {
        display: block;
        width: 80px;
        font-size: 1em;
        text-align: center;
        font-weight: bold;
        color: var(--primary-color);
        flex-shrink: 0;
        padding: 5px 0;
    }
    /* Cacher la colonne CP dans le tableau global mobile */
    #pt-global-leaderboard-table .pt-global-cp-col { display: none; }

    /* PT Individual Table */
    #pt-leaderboard-table thead { display: none; }
    #pt-leaderboard-table tbody tr {
        display: flex;
        align-items: center;
        width: 100%;
        padding: 10px 0;
    }
    #pt-leaderboard-table td {
        display: block;
        border: none;
        padding: 5px;
    }
    #pt-leaderboard-table td:nth-child(1) {
        width: 40px;
        text-align: center;
        flex-shrink: 0;
    }
    #pt-leaderboard-table td:nth-child(2) {
        flex-grow: 1;
        width: auto;
    }
    .pt-leaderboard-team { gap: 10px; }
    .pt-leaderboard-player .class-tag {
        font-size: 0.9em;
        padding: 4px 8px;
    }

    /* --- Légende (Mobile) --- */
    .legend-full { display: none; }
    .legend-short { display: inline; }
}