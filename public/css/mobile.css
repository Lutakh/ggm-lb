/* --- STYLES MOBILES --- */
@media (max-width: 768px) {
    body { padding: 10px; padding-top: 70px; }
    .card { padding: 15px; }
    header h1 { font-size: 1.5em; gap: 10px; }
    .logo { width: 35px; height: 35px; }
    #admin-settings-btn { width: 40px; height: 40px; top: 10px; right: 10px; }
    #admin-settings-btn svg { width: 20px; height: 20px; }
    #home-nav-btn { width: 40px; height: 40px; top: 10px; left: 10px; }
    #home-nav-btn svg { width: 20px; height: 20px; }

    /* Cacher la top bar si une section est active */
    body.section-active .top-bar {
        display: none;
    }

    .top-bar { flex-wrap: wrap; padding: 10px; gap: 15px; }
    .top-bar-section { gap: 10px; }
    .top-bar-section svg { width: 28px; height: 28px; }
    .discord-section .discord-info span, .guides-section span { font-size: 0.9em; }
    .timers-list { flex-wrap: wrap; gap: 10px; justify-content: center; width: 100%; order: 3; }
    .timer-entry { flex-direction: row; gap: 8px; background-color: #f9f6f1; padding: 8px 12px; border-radius: 8px; width: 100%; box-sizing: border-box; }
    .timer-label { font-size: 0.8em; text-align: left; flex-grow: 1; opacity: 0.8; }
    .timer-value { font-size: 0.85em; }
    .timers-section { flex-basis: 100%; }
    .discord-section { flex-grow: 1; }
    .guides-section { flex-grow: 1; justify-content: flex-end; }
    .timer-entry:hover .timer-tooltip { display: none; }

    /* --- Formulaire d'ajout (mobile) --- */
    #player-form { grid-template-columns: 1fr; }
    #player-image-container { grid-row: auto; }
    .form-step-1, #form-details { grid-column: 1 / -1; }

    /* --- Filtres --- */
    #open-filters-btn { /* Bouton filtre joueurs */
        display: block;
        width: 100%;
        margin-bottom: 15px;
    }
    #teams-filters { display: none; } /* Cacher l'ancien dropdown desktop des équipes */
    #team-guild-filter-mobile { /* Nouveau dropdown mobile équipes */
        display: block;
        width: 100%;
        margin-bottom: 15px;
    }
    .filters-modal-class-filter { display: block; }


    /* --- Players Leaderboard Table (Mobile) --- */
    #leaderboard-table thead { display: none; }
    #leaderboard-table tbody tr { display: flex; align-items: center; width: 100%; padding: 10px 0; cursor: pointer; }
    #leaderboard-table tbody tr:hover { background-color: #f9f6f1; }
    #leaderboard-table td { display: none; border: none; padding: 5px; }
    #leaderboard-table td:nth-child(1) { display: block; width: 40px; text-align: center; flex-shrink: 0; } /* Rank */
    #leaderboard-table td:nth-child(2) { display: block; flex-grow: 1; width: auto; } /* Player */
    #leaderboard-table td:nth-child(3) { display: block; width: 60px; font-size: 0.9em; text-align: right; font-weight: bold; color: var(--primary-color); flex-shrink: 0; padding: 5px 0; } /* CP */
    .player-name-cell .class-tag { font-size: 1em; }
    #leaderboard-table th:nth-child(7), #leaderboard-table td:nth-child(7) { display: none; } /* Updated */
    #leaderboard-table th:nth-child(4), #leaderboard-table td:nth-child(4), /* Play Hours */
    #leaderboard-table th:nth-child(5), #leaderboard-table td:nth-child(5), /* Guild */
    #leaderboard-table th:nth-child(6), #leaderboard-table td:nth-child(6), /* Notes */
    #leaderboard-table th:nth-child(8), #leaderboard-table td:nth-child(8) { display: none; } /* Actions */


    /* --- Teams Leaderboard Table (Mobile) --- */
    #teams-leaderboard-table thead { display: none; }
    #teams-leaderboard-table tbody tr.team-data-row { display: flex; align-items: center; width: 100%; padding: 10px 0; cursor: pointer; }
    #teams-leaderboard-table tbody tr.team-data-row:hover { background-color: #f9f6f1; }
    #teams-leaderboard-table td { display: none; border: none; padding: 5px; }
    #teams-leaderboard-table td:nth-child(1) { display: block; width: 40px; text-align: center; flex-shrink: 0; } /* Rank */
    #teams-leaderboard-table td:nth-child(2) { display: block; flex-grow: 1; width: auto; font-size: 0.9em; line-height: 1.3; } /* Team + Guild */
    #teams-leaderboard-table td:nth-child(2) .guild-name { font-size: 0.8em; opacity: 0.7; }
    #teams-leaderboard-table td:nth-child(3) { display: block; width: 60px; font-size: 0.9em; text-align: right; font-weight: bold; color: var(--primary-color); flex-shrink: 0; padding: 5px 0; } /* CP */
    #teams-leaderboard-table td:nth-child(4) { display: block; width: 50px; font-size: 0.9em; text-align: center; flex-shrink: 0; } /* Members */
    #teams-leaderboard-table td:nth-child(5) { display: none; } /* Class Distrib */


    /* --- Guilds Leaderboard Table (Mobile) --- */
    .guild-leaderboard-table thead { display: none; }
    .guild-leaderboard-table tbody tr { display: flex; align-items: center; width: 100%; padding: 10px 0; cursor: pointer; }
    .guild-leaderboard-table tbody tr:hover { background-color: #f9f6f1; }
    .guild-leaderboard-table td { display: none; border: none; padding: 5px; }
    .guild-leaderboard-table td:nth-child(1) { display: block; width: 40px; text-align: center; flex-shrink: 0; } /* Rank */
    .guild-leaderboard-table td:nth-child(2) { display: block; flex-grow: 1; width: auto; } /* Guild */
    .guild-leaderboard-table td:nth-child(3) { display: block; width: 70px; /* Plus large pour centrer */ font-size: 0.9em; text-align: center; /* Centré */ font-weight: bold; color: var(--primary-color); flex-shrink: 0; padding: 5px 0; } /* CP */
    .guild-leaderboard-table td:nth-child(4) { display: none; } /* Members */
    .guild-leaderboard-table td:nth-child(5) { display: none; } /* Class Distrib */

    /* --- NOUVEAU: Perilous Trials (Mobile) --- */

    /* Cacher les filtres desktop PT */
    #perilous-trials-section .desktop-pt-controls {
        display: none;
    }
    /* Afficher les filtres mobiles PT */
    #perilous-trials-section .mobile-pt-controls {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
    }
    #perilous-trials-section .mobile-pt-controls .action-btn-main {
        flex-grow: 1; /* Le bouton filtre prend plus de place */
    }

    /* Tableau Global PT (Mobile) */
    #pt-global-leaderboard-table thead { display: none; }
    #pt-global-leaderboard-table tbody tr { display: flex; align-items: center; width: 100%; padding: 10px 0; }
    #pt-global-leaderboard-table tbody tr:hover { background-color: #f9f6f1; }
    #pt-global-leaderboard-table td { display: none; border: none; padding: 5px; }

    #pt-global-leaderboard-table td:nth-child(1) { display: block; width: 40px; text-align: center; flex-shrink: 0; } /* Rank */
    #pt-global-leaderboard-table td:nth-child(2) { display: block; flex-grow: 1; width: auto; } /* Player */
    #pt-global-leaderboard-table td:nth-child(4) { display: block; width: 80px; font-size: 1em; text-align: right; font-weight: bold; color: var(--primary-color); flex-shrink: 0; padding: 5px 0; } /* Points */

    /* Cacher CP (col 3) */
    #pt-global-leaderboard-table td:nth-child(3) { display: none; }

    /* Tableau PT Individuel (Mobile) */
    #pt-leaderboard-table thead { display: none; }
    #pt-leaderboard-table tbody tr { display: flex; align-items: center; width: 100%; padding: 10px 0; }
    #pt-leaderboard-table td { display: block; border: none; padding: 5px; }
    #pt-leaderboard-table td:nth-child(1) { width: 40px; text-align: center; flex-shrink: 0; } /* Rank */
    #pt-leaderboard-table td:nth-child(2) { flex-grow: 1; width: auto; } /* Team */
    .pt-leaderboard-team { gap: 10px; }
    .pt-leaderboard-player .class-tag { font-size: 0.9em; padding: 4px 8px; }
}